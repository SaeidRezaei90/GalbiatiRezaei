\subsection{External Interface Requirements}
This section provides a detailed description of all inputs and outputs from the system. It also gives a description of the hardware, software and communication interfaces and provides basic prototypes of the user interface.

\subsubsection{User Interfaces}
In this section we present the mockups of the GUI,


\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/login.png}
      \caption{Login screen}   \label{fig:login}
\end{figure}

\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/takepic.png}
      \caption{}   \label{fig:takepic}
\end{figure}

\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/fillform.png}
      \caption{Login screen}   \label{fig:fillform}
\end{figure}


\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/picturetaken.png}
      \caption{Login screen}   \label{fig:pictaken}
\end{figure}
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/offenders.png}
      \caption{Login screen}   \label{fig:offenders}
\end{figure}

\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/heatmap.png}
      \caption{Login screen}   \label{fig:heatmap}
\end{figure}


\subsubsection{Hardware Interfaces}
there is no need to have hardware interfaces since we are developing a mobile application with a server side.
Iternet connection, GPS, and camera are all managed by the OS of the smartphone where the application will run.
\subsubsection{Software Interfaces}

\subsubsection{Communication Interfaces}


\subsection{Functional  Requirements}
Evrey function shoud work olnly after succesful login.

\begin{itemize}

\item \textbf{[G1] Allow users to notify authorities about traffic violations} %%%%%%%%%%%%%%%%%%%%
  \req{1} User must be able to choose the kind of violation from a list
  \req{2} User must be able to read detailed information about each kind of violation he can report
  %%%thinkkkkkkkk of more%%%%%%%%%%%%

\item \textbf{[G2] Allow users to send pictures with metadata of violations } %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \req{1} Application should access the camera
  \req{2} Date, time and position should be automatically added to the violation reported
  \req{3} We should require the user to send again a picture in case the plate is not visible
  \req{4} The user must be able to select the veichle to report in case there are other veichles in picture

\item \textbf{[G3] Allow users to mine information recorded}  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \req {1} Application must be able to count occurrency of violations
  \req {2} Application must be able to count violation for each veichle
  \req {4} Application should show the first $n$ (input by user) veichles with the highest number of violations
  \req {5} Application should visualize the areas where violation occurred
  \req {6} Application must use a gradient of color to show the occurrencies ov iolation as an overlay of a interactive map

\item \textbf{[G4] Have at least two different priviledge for mining data} %%%%%%%%%%%%%%%%%%%%%
  \req {1} Regular endusers can see the list of veichles with the highest number of violations but they cannot see the licence plate,instead of that a random identifier is shown
  \req{2} Authority users can know the exact licence plate when mining data about offenders

\item \textbf{[G5] Generate traffic tickets}
  \req {} Application must be able to read every violation stored and automatically generate a ticket
  \req {}
\item \textbf{[G6] Generate statistics about issued tickets}
  \req{}

\item \textbf{[G7] Be sure every information uploaded is never altered}
 \req{} The application must be able to know if a picture has been altered




\end{itemize}




\subsubsection{Use Cases diagrams}
Here are presented the use case diagrams for each main function. In the next section each use case will be verbally presented.


%%%%big pict here %%%%%%%%%%%%



\subsubsection{Use Cases Description}
In the following section a description of each use case is provided. For every use case is reported: an ID defining each case, the entry conditions, the steps to accomplish the exit condition and any exception that may occur. \\


%%%%%%%USE CASES HERE ***********************************************************************

	\textbf{ID}: \ucas{1} \\
	\textbf{Name}: Sign-Up \\
	\textbf{Actor}: Guest \\
	\textbf{Entry conditions}:
	\begin{enumerate}
		\item{A citizen who wants to use the service}
	\end{enumerate}
	\textbf{Event flow}:
	\begin{enumerate}
		\item{The guest reaches the registration page containing the relative form}
		\item{The guest ﬁlls up the form and clicks on "Sign up" to complete the process}
		\item{The system redirects the user to his proﬁle page and sends a conﬁrmation email}
	\end{enumerate}
	\textbf{Exit conditions}:
	\begin{itemize}
		\item{The guest has successfully registered in the system}
	\end{itemize}
	\textbf{Exceptions}:
	\begin{enumerate}
    		\item{The guest left an empty ﬁeld or typed something wrong an error message is displayed and theuser is asked to ﬁll the form again.}
 	   \end{enumerate}
	\rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\textbf{ID}: \ucas{2} \\
	\textbf{Name}: Login \\
	\textbf{Actor}: User \\
	\textbf{Entry conditions}:
	\begin{enumerate}
		\item{The user has already registered}
	\end{enumerate}
	\textbf{Event flow}:
	\begin{enumerate}
		\item{The user reaches the login page containing the relative form}
		\item{The user types the username and password in the login form and click on ”Login” button}
		\item{The system redirects the user to the application homepage}
	\end{enumerate}
	\textbf{Exit conditions}:
	\begin{itemize}
		\item{The user has access to the application functionalities}
	\end{itemize}
	\textbf{Exceptions}:
	\begin{enumerate}
    		\item{Username and password didn’t correspond or the username didn’t exist, an error message isdisplayed and the user is asked to ﬁll the login form again}
 	   \end{enumerate}
	\rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\textbf{ID}: \ucas{3}  \\
	\textbf{Name}: Recover Password \\
	\textbf{Actor}: User \\
	\textbf{Entry conditions}:
	\begin{enumerate}
		\item{The user has already registered}
	\end{enumerate}
	\textbf{Event flow}:
	\begin{enumerate}
		\item{The user reaches the login page containing the relative form}
		\item{The user clicks on ”Password recovery” button and is redirected to the password recovery page.}
		\item{The user inserts his email and clicks on ”reset password”}
		\item{The system sends an email to the user with a link and instruction to reset the password}
		\item{The user chooses and types a new password and conﬁrms}
		\item{The application check whether the entered password is strong enough or not}
		\item{The system redirects the user to the login page}
	\end{enumerate}
	\textbf{Exit conditions}:
	\begin{itemize}
		\item{The user has changed his password}
	\end{itemize}
	\textbf{Exceptions}:
	\begin{enumerate}
    		\item{The inserted email doesn't match any user in the database, it is displayed an error messageand the user is asked to retype a valid email.}
 	   \end{enumerate}
	\rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \textbf{ID}: \ucas{4a} \\
  \textbf{Name}: Report a violation - taking picture \\
  \textbf{Actor}: User   \\
  \textbf{Entry conditions}:
  \begin{enumerate}
    \item{User is logged in}
  \end{enumerate}
  \textbf{Event flow}:
  \begin{enumerate}
    \item{User enters the section "Report a violation"}
    \item{System opens the camera of smartphone and ask user to take a picture of the violation}
    \item{The system reminds the user that violation and the licence plate of the veichle which is inviolation must be visible }
    \item{The user takes the picture }
    \item{The system shows the picture just taken }
    \item{The system asks the user: if there are other plates visible in the picture, which are not the oneof the veichle to be reported, use the finger to delete them }
    \item{The system enters in "brush tool mode" and the user covers the other licence plates}
    \item{When done, user press continue button}
    \item{The system sends the picture to the ALPR service which returns the string containing the platedecoded}
    \item{The system shows now on the screen the "report vioaltion form"}
  \end{enumerate}
  \textbf{Exit conditions}:
  \begin{enumerate}
    \item{User must continue to next \ucas{4b}}
  \end{enumerate}
  \textbf{Exceptions}:
  \begin{enumerate}
    \item{If no plate is found, the user has to repeat this use case, starting from taking the picture again}
    \item{If the ALPR service returns more than one plate, the user is informed that must delete the notrequired plates and the system goes agin to the "brush tool mode"}
    \item{If user doesn't continue to the next use case: e.g. presses exit button, or closes the app formore than 10 minutes, the picture taken is discarded}
  \end{enumerate}
  \rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \textbf{ID}: \ucas{4b} \\
  \textbf{Name}: Report a violation - fill the form \\
  \textbf{Actor}: User   \\
  \textbf{Entry conditions}:
  \begin{enumerate}
    \item{User has successfully completed the precedent \ucas{4a}}
    \item{User is in the fill-form section of the app}
  \end{enumerate}
  \textbf{Event flow}:
  \begin{enumerate}
    \item{The system sends GPS location to the external service to get the complete address of the user}
    \item{the form is pre-filled with the address that is given by the external service  }
    \item{The user must choose from a list of violations the one referred to the picture taken which wantsto report. In the UI every row contains the name of the violation and a "info" button}
    \item{the user can choose to send the form or exit}
  \end{enumerate}
  \textbf{Exit conditions}:
  \begin{enumerate}
    \item{The violation is correctly inserted and stored}
  \end{enumerate}
  \textbf{Exceptions}:
  \begin{enumerate}
  \end{enumerate}
  \rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \textbf{ID}: \ucas{4b1} \\
  \textbf{Name}: Report a violation - fill the form - violation infopage \\
  \textbf{Actor}: User   \\
  \textbf{Entry conditions}:
  \begin{enumerate}
    \item{User is in Use case \ucas{4b} }
    \item{User has pressed the "info" button of a violation from the list }
  \end{enumerate}
  \textbf{Event flow}:
  \begin{enumerate}
    \item{System shows a brief decriprion of the selected violation}
  \end{enumerate}
  \textbf{Exit conditions}:
  \begin{enumerate}
    \item{User goes back to Use case \ucas{4b}}
  \end{enumerate}
  \textbf{Exceptions}:
  \begin{enumerate}
  \end{enumerate}
  \rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\textbf{ID}: \ucas{5a} \\
	\textbf{Name}: Mine information - street heatmap \\
	\textbf{Actor}: User  \\
	\textbf{Entry conditions}:
	\begin{enumerate}
		\item{User is logged in}
	\end{enumerate}
	\textbf{Event flow}:
	\begin{enumerate}
		\item{User enters the section "Explore data"}
    \item{The user chooses to get the map about streets with highest frequency of violations}
    \item{The system retrieves data from the database of violations, counting for each street the number of occurrencies}
    \item{The system sends to the external maps API the count of violation and the road name}
    \item{The app shows the map with an overlay which higlights the areas with a gradient color according to the number of vioations occurred}
	\end{enumerate}
	\textbf{Exit conditions}:
        \item{User wants to go back to "Explore data" area}
	\textbf{Exceptions}:
  \begin{enumerate}
    \item{If there are no records the app will report no data available message}
  \end{enumerate}
	\rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\textbf{ID}: \ucas{5b} \\
	\textbf{Name}: Mine information by Authority - offenders \\
	\textbf{Actor}: AuthorityUser   \\
	\textbf{Entry conditions}:
	\begin{enumerate}
		\item{AuthorityUser is logged in}
	\end{enumerate}
	\textbf{Event flow}:
	\begin{enumerate}
		\item{AuthorityUser enters the section "Explore data"}
		\item{The system asks which kind of data the AuthorityUser wants to know}
    \item{The AuthorityUser chooses to get the data about veichles that committed the highest number of violations}
    \item{The system queries the table where for each licence plate is associated the count of violations }
    \item{The system will report in a tabular way the plate of the veichle and the count of violations committed}
    \item{If the AuthorityUser scrolls down, the system will offer the chance to load more rows}
	\end{enumerate}
	\textbf{Exit conditions}:
  \begin{enumerate}
    \item{AuthorityUser wants to go back to "Explore data" area}
  \end{enumerate}
	\textbf{Exceptions}:
	\begin{enumerate}
		\item{If there are no records the app will report no data available message}
	\end{enumerate}
	\rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \textbf{ID}: \ucas{5c} \\
  \textbf{Name}: Mine information by EndUser - offenders \\
  \textbf{Actor}: EndUsers   \\
  \textbf{Entry conditions}:
  \begin{enumerate}
    \item{User is logged in}
  \end{enumerate}
  \textbf{Event flow}:
  \begin{enumerate}
    \item{User enters the section "Explore data"}
    \item{The system asks which kind of data the user wants to know}
    \item{The User chooses to get the data about veichles that committed the highest number of violations}
    \item{The system queries the table where for each licence plate is associated the count of violations }
    \item{the System associates an anonymized sequential identifier to each plate}
    \item{The system will report in a tabular way the identifier of the veichle and the count of violations}
    \item{If the User scrolls down the system will offer the chance to load more rows}
  \end{enumerate}
  \textbf{Exit conditions}:
  \begin{enumerate}
    \item{User wants to go back to "Explore data" area}
  \end{enumerate}
  \textbf{Exceptions}:
  \begin{enumerate}
    \item{If there are no records the app will report no data available message}
  \end{enumerate}
  \rule{\linewidth}{0.4pt}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item{Advanced function}\\
		\textbf{ID}: \ucas{6} \\
		\textbf{Name}: Ticket approval  \\
		\textbf{Actor}: AuthorityUser   \\
		\textbf{Entry conditions}:
		\begin{enumerate}
			\item{A new violation is inserted in database}
      \item{AuthorityUser logged in}
		\end{enumerate}
		\textbf{Event flow}:
		\begin{enumerate}
      \item{Every time a new violation is created by a EndUser the system will create automatically a ticket to be approved}
			\item{AuthorityUser enters the section "Tickets"}
			\item{AuthorityUser enters the section "Approve Tickets"}
      \item{The System will show the list of tickets available for approval }
      \item{AuthorityUser selects one tiket and system will show the related details}
      \item{System will ask the AuthorityUser if he wants to approve or not the ticket}
  		\end{enumerate}
		\textbf{Exit conditions}:
    \begin{enumerate}
      \item{User wants to go back to "Ticket" area}
      \item{AuthorityUser approves the ticket}
      \item{AuthorityUser doesn't approve the ticket}
    \end{enumerate}
		\textbf{Exceptions}:
		\begin{enumerate}
			\item{If there are no tickets pending, the app will report no data available message}
		\end{enumerate}
		\rule{\linewidth}{0.4pt}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \textbf{ID}: \ucas{5} \\
    \textbf{Name}: Ticket statistics selection \\
    \textbf{Actor}: AuthorityUser   \\
    \textbf{Entry conditions}:
    \begin{enumerate}
      \item{AuthorityUser logged in}
    \end{enumerate}
    \textbf{Event flow}:
    \begin{enumerate}
      \item {AuthorityUser enters the section "ticket statistics"}
      \item {The system will show the available ticket statisics options available to show}
    \end{enumerate}
    \textbf{Exit conditions}:
    \begin{enumerate}
      \item{the AuthorityUser chooses the kind of statistics he wants to see}
    \end{enumerate}
    \textbf{Exceptions}:
    \begin{enumerate}
    \end{enumerate}
    \rule{\linewidth}{0.4pt}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \textbf{ID}: \ucas{5} \\
    \textbf{Name}: Statistics - offenders \\
    \textbf{Actor}: AuthorityUser   \\
    \textbf{Entry conditions}:
    \begin{enumerate}
      \item{AuthorityUser logged in}
      \item{AuthorityUser has selected to see the statistics about offenders }
    \end{enumerate}
    \textbf{Event flow}:
    \begin{enumerate}
      \item{The system queries the table about all tickets, getting the count of tickets associated to every citizen present in the database of ticket created}
      \item{The system will report in a tabular way the plate of the veichle and the count of violations committed}
      \item{If the AuthorityUser scrolls down, the system will offer the chance to load more rows}
    \end{enumerate}
    \textbf{Exit conditions}:
    \begin{enumerate}

    \end{enumerate}
    \textbf{Exceptions}:
    \begin{enumerate}

    \end{enumerate}
    \rule{\linewidth}{0.4pt}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \textbf{ID}: \ucas{5} \\
    \textbf{Name}: Statistics - trends \\
    \textbf{Actor}: AuthorityUser   \\
    \textbf{Entry conditions}:
    \begin{enumerate}
      \item{AuthorityUser logged in}
      \item{AuthorityUser has chosen to see the Statistics - trend option}
    \end{enumerate}
    \textbf{Event flow}:
    \begin{enumerate}
      \item {
      \item
    \end{enumerate}
    \textbf{Exit conditions}:
    \begin{enumerate}

    \end{enumerate}
    \textbf{Exceptions}:
    \begin{enumerate}
    \end{enumerate}
    \rule{\linewidth}{0.4pt}



\subsubsection{Requirements}
Requirements in order to satisfy the goals
\begin{enumerate}
  \requirement{1} test
\end{enumerate}


\subsection{Performance Requirements}

\subsection{Design Constraints}%%%%%%%%%%%%%%%%%%%T.

\subsubsection{Standards compliance}
The app shoudld be available for the two main operating systems of smartphones: Android Os and Apple iOS.\\



\subsubsection{Hardware limitations}
The app will have a server side and a client side (smartphone).
On server side limitations can be the size of available storage and the bandwidth.
On smartphone side we have the network connectivity (3G/4G connection) and GPS limitations in some areas.

\subsubsection{Any other constraint}
Application should be compliant to European GDPR.\\
The traffic violations which can be reported should be compliant to the local traffic code where the app will be used.\\
For an use in Italy the app should be compliant to the "Codice della Strada", in particular parking violations are reported in Art. 157.\\

\subsection{Software System Attributes}
\subsubsection{Simple User Interface}
The user interface has to be as simple and intuitive as possible, the application should allow an average user to set up an account and start using the application understanding its functionality in no more than a dozen minutes. In addition there should be a complete tutorial to makes it easy using the application.

\subsubsection{Reliability}
The application provides a reliable service in which individual users can easily log in and report the violations in the most optimal way. Furthermore it Warranties that the chain of custody of the information coming from the users is never broken, and the information is never altered. This would provide a secure and reliable system. In addition, if the license plate	is not readable from the picture the application should warn the user to send an other photo.
\subsubsection{Availability}
The application must offer the maximum availability, granting its service every day at any time (24/7). The lack of service must be minimal.Reporting violation and taking the information about the vioalation coming from SafeStreets must be active every day at any time. The lack of service is acceptable only if it is due to maintenance. In this case, users must receive a warning 48 hours before.
\subsubsection{Security}
The application need to be safe and it does not have particular security concerns except the ones related to unauthorized login. The login of Users and especially of authorities must be very safe to avoid reporting. Moreover, the means of communication must be encrypted to save the confidentiality of information sent to SafeStreets.
\subsubsection{Maintainability}
The application will be maintained and designed in such a way it makes it easier to maintain and it shoul be understandable for both the users and the authorities. Furthermore, the system will put eﬀort in keeping the live data services (such as highlighting the streets with the highest frequency of violations or the vehicles that commit the most violation) always online.
\subsubsection{Portability}
Portability of user data from a device to another is possible by entering personal login data. Also the application will be able to run for devices with different operating systems. Trackme wants to focus on the both Android iOS market and Apple iOS, because Android is the largest OS in the world and it is expected that the market share of Apple iOS will increase in the coming years.
