\subsection{External Interface Requirements}
This section provides a detailed description of all inputs and outputs from the system. It also gives a description of the hardware, software and communication interfaces and provides basic prototypes of the user interface.

\subsubsection{User Interfaces}
In this section we present the mockups of the GUI.

Figure \ref{fig:login} shows the login page where it's possible to access the registration form for new users.
 \begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/login.png}
      \caption{[GUI] Login screen}   \label{fig:login}
\end{figure}

After login the user will enter by default into the first tab "Report", see Figure \ref{fig:takepic}, where is shown what the camera is recording and the user can start taking the picture of the violation.
For the first time a user logs in some banner can appear showing each function of the app. Also we show on the screen some useful reminders about how the picture to be submitted should be.
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/takepic.png}
      \caption{[GUI] Report | open camera view}   \label{fig:takepic}
\end{figure}

After the picture has been taken, the apps shows it as in Figure \ref{fig:pictaken} and a "brush tool" will appear, which can be used to cover any other plate appearing in the picture, not related to the veichle being reported.
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/picturetaken.png}
      \caption{[GUI] Report | picture of violation taken screen}   \label{fig:pictaken}
\end{figure}

Figure \ref{fig:fillform} shows how appears the form where the user has to select the kind of violation he is rporting from a scroll-down list. Each row has an info button, when pressed the GUI will show a verbal description of the violation related.
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/fillform.png}
      \caption{[GUI] Report | violation info form screen}   \label{fig:fillform}
\end{figure}

Figure \ref{fig:offenders} shows the view of the plates which have committed the highest number of violations.
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/offenders.png}
      \caption{[GUI] Explore data screen | offenders}   \label{fig:offenders}
\end{figure}

Figure \ref{fig:heatmap} shows the view of the heatmap, with a map generated by the external API with the colored overlay which represents the number of violation occurred.
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/heatmap.png}
      \caption{[GUI] Explore data | heatmap}   \label{fig:heatmap}
\end{figure}

Figure \ref{fig:ticket} shows the interface only available to Authority Users where are listed all the tickets that are pending for approval. For each ticket all the key informations are sgown: picture, location, plate, code of the violation.
\begin{figure}[H]
		\centering
      \includegraphics[width=0.5\textwidth]{GUI/ticketapp.png}
      \caption{[GUI] Ticket | approval screen}   \label{fig:ticket}
\end{figure}

\subsubsection{Hardware Interfaces}
there is no need to have hardware interfaces since we are developing a mobile application with a server side.
Iternet connection, GPS, and camera are all managed by the OS of the smartphone where the application will run.
\subsubsection{Software Interfaces}

\subsubsection{Communication Interfaces}


\subsection{Functional  Requirements}
The functional requirements are those which are the fundamental actions of the system. Here we present for every goal a list  of related requirements and domain assumption.
Evrey function shoud work olnly after succesful login.

\begin{itemize}
\item \textbf{[G1] Allow users to notify authorities about traffic violations} %%%%%%%%%%%%%%%%%%%%
\begin{itemize}
  \dom{1} Device has a working internet connection
  \dom{8} The number and kind of violations should be finite (defined by the law)
  \req{1} User must be able to choose the kind of violation from a list
  \req{2} User must be able to read detailed information about each kind of violation he can report
  \end{itemize}

\item \textbf{[G2] Allow users to send pictures with metadata of violations } %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
  \dom{2} Device has a camera accessible via software
  \dom{3} The device should acquire position with an accuracy of enouth meters in order to univocally determine the road (e.g. 5 meters)
  \dom{4} We have access to an ALPR service which is able to read every licence plate in a picture and return each of them as a string
  \dom{5} ALPR service has an accuracy of more than 95\%
  \dom{6} The device should take pictures with enough resolution to be able to read by the ALPR service
  \dom{7} Every vehicle that can be reported should have a licence plate visible
  \req{3} Date, time and position should be automatically added to the violation reported
  \req{4} We should require the user to send again a picture in case the plate is not visible
  \req{5} The user must be able to select the veichle to report in case there are other veichles in picture
  \req{6} Application must automatically determine the street name where User is
\end{itemize}

\item \textbf{[G3] Allow users to mine information recorded}  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
  \req {7} Application must be able to count occurrency of violations
  \req {8} Application must be able to count violation for each veichle
  \req {9} Application should show the all the veichles ordered with the number of violations
  \req {10} Application should visualize the areas where violation occurred
  \req {11} Application must use a gradient of color to show the occurrencies of violations as an overlay of a interactive map
\end{itemize}

\item \textbf{[G4] Have at least two different priviledge for mining data} %%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
  \dom{9} Every authority account is verified and it's not possible to be created using the front end
  \req {12} Regular endusers can see the list of veichles with the highest number of violations but they cannot see the actual licence plate, instead of that a generic identifier is shown
  \req{13} Authority users can know the exact licence plate when mining data about offenders
  \req{14} Only authority users can access the ticket approval section
\end{itemize}

\item \textbf{[G5] Generate traffic tickets}
\begin{itemize}
  \dom{10} We have access to the vehicle registration database where are stored licence plates, names and the addresses of the owners of every vehicle registered
  \dom{11} We have access to a database where are stored all the codes of violations and the amount of fine for the violation
  \req {15} Application must be able to read every violation stored and automatically generate a ticket
  \req {16} application showld offer to authorities the possibility to approve tickets or not
\end{itemize}

\item \textbf{[G6] Generate statistics about issued tickets}
\begin{itemize}
  \req{17} Application must store all the tickets created
  \req{18} Application must read all the history of tickets created
\end{itemize}

\item \textbf{[G7] Be sure every information uploaded is never altered}
\begin{itemize}
 \dom{12} The only way to upload pictures of violation is thuough the application
 \req{19} The application must be able to know if a picture has been altered
 \req{20} If a picture has been altered the applcation must automatically flag as not valid the corresponding ticket
\end{itemize}

\end{itemize}}


\subsubsection{Use Cases diagrams}
Here are presented the use case diagrams for each main function. In the next section each use case will be verbally presented.

%%%%big pict here %%%%%%%%%%%%
%%%%%%Basic Service UseCase diagram
 \begin{figure}[H]
		\centering
      \includegraphics[width=0.8\textwidth]{Images/BasicServiceUseCase.jpg}
      \caption{[GUI] Basic service use case diagram}   \label{fig:BasicService}
\end{figure}

  %%%%%%Advanced Function UseCase diagram
 \begin{figure}[H]
		\centering
      \includegraphics[width=0.8\textwidth]{Images/AdvancedFUnUseCase.jpg}
      \caption{[GUI] Advanced function use case diagram}   \label{fig:AdvancedFunction}
\end{figure}


\subsubsection{Use Cases Description}
In the following section a description of each use case is provided. For every use case is reported: an ID defining each case, the entry conditions, the steps to accomplish the exit condition and any exception that may occur. \\


%%%%%%%USE CASES HERE ***********************************************************************
\\input{Files/uscases/listcases.tex}

\subsubsection{Requirements traceability matrix}

\input{Files/tracematrix.tex}


\subsection{Performance Requirements}

\subsection{Design Constraints}%%%%%%%%%%%%%%%%%%%T.

\subsubsection{Standards compliance}
The app shoudld be available for the two main operating systems of smartphones: Android Os and Apple iOS.\\



\subsubsection{Hardware limitations}
The app will have a server side and a client side (smartphone).
On server side limitations can be the size of available storage and the bandwidth.
On smartphone side we have the network connectivity (3G/4G connection) and GPS limitations in some areas.

\subsubsection{Any other constraint}
Application should be compliant to European GDPR.\\
The traffic violations which can be reported should be compliant to the local traffic code where the app will be used.\\
For an use in Italy the app should be compliant to the "Codice della Strada", in particular parking violations are reported in Art. 157.\\

\subsection{Software System Attributes}
\subsubsection{Simple User Interface}
The user interface has to be as simple and intuitive as possible, the application should allow an average user to set up an account and start using the application understanding its functionality in no more than a dozen minutes. In addition there should be a complete tutorial to makes it easy using the application.

\subsubsection{Reliability}
The application provides a reliable service in which individual users can easily log in and report the violations in the most optimal way. Furthermore it Warranties that the chain of custody of the information coming from the users is never broken, and the information is never altered. This would provide a secure and reliable system. In addition, if the license plate	is not readable from the picture the application should warn the user to send an other photo.
\subsubsection{Availability}
The application must offer the maximum availability, granting its service every day at any time (24/7). The lack of service must be minimal.Reporting violation and taking the information about the vioalation coming from SafeStreets must be active every day at any time. The lack of service is acceptable only if it is due to maintenance. In this case, users must receive a warning 48 hours before.
\subsubsection{Security}
The application need to be safe and it does not have particular security concerns except the ones related to unauthorized login. The login of Users and especially of authorities must be very safe to avoid reporting. Moreover, the means of communication must be encrypted to save the confidentiality of information sent to SafeStreets.
\subsubsection{Maintainability}
The application will be maintained and designed in such a way it makes it easier to maintain and it should be understandable for both the users and the authorities. Furthermore, the system will put eﬀort in keeping the live data services (such as highlighting the streets with the highest frequency of violations or the vehicles that commit the most violation) always online.
\subsubsection{Portability}
Portability of user data from a device to another is possible by entering personal login data. Also the application will be able to run for devices with different operating systems.
